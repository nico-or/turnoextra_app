<% has_discount = boardgame.discount.present? && boardgame.discount.to_i > 0 %>
<div class="col p-2">
  <article class="card h-100 <%= "bg-success-subtle" if has_discount %>">
    <div class="ratio ratio-4x3 bg-light d-flex align-items-center justify-content-center">
      <%= image_tag boardgame.thumbnail_url || placehold_url(150),
        alt: boardgame.title,
        class: "img-fluid object-fit-contain p-2"%>
    </div>
    <div class="card-body d-flex flex-column">
      <h2 class="card-title h4 flex-grow-1">
        <%= link_to boardgame_path(boardgame), class: "stretched-link text-decoration-none text-reset" do %>
          <strong>
            <%= boardgame.title %>
          </strong>
        <% end %>
      </h2>
      <% if  has_discount %>
        <div>
          <span class="text-muted text-decoration-line-through"><%= format_price(boardgame.reference_price) %></span>
        </div>
        <span class="text-nowrap fw-semibold fs-4 text-success"><%= format_price(boardgame.best_price) %></span>
        <span class="badge bg-success position-absolute top-0 end-0 m-2">
          <i class="bi bi-tag-fill"></i> <%= boardgame.discount %>%
        </span>
      <% else %>
        <div class="d-flex align-items-center gap-2">
          <span class="text-nowrap fw-semibold fs-4 text-muted"><%= format_price(boardgame.best_price) %></span>
        </div>
      <% end %>
    </div>
  </article>
</div>